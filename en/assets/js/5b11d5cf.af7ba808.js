"use strict";(self.webpackChunkditsmod_github_io=self.webpackChunkditsmod_github_io||[]).push([[373],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=c(n),d=o,f=m["".concat(s,".").concat(d)]||m[d]||p[d]||l;return n?r.createElement(f,a(a({ref:t},u),{},{components:n})):r.createElement(f,a({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,a=new Array(l);a[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,a[1]=i;for(var c=2;c<l;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7267:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var r=n(3117),o=(n(7294),n(3905));const l={},a="07-composing-modules",i={unversionedId:"examples/dynamically-composing-modules",id:"examples/dynamically-composing-modules",title:"07-composing-modules",description:"To try this example, you should first prepare the prerequisite.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/10-examples/07-dynamically-composing-modules.md",sourceDirName:"10-examples",slug:"/examples/dynamically-composing-modules",permalink:"/en/examples/dynamically-composing-modules",draft:!1,editUrl:"https://github.com/ditsmod/ditsmod/edit/main/website/i18n/en/docusaurus-plugin-content-docs/current/10-examples/07-dynamically-composing-modules.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"06-body-parser",permalink:"/en/examples/body-parser"},next:{title:"15-i18n",permalink:"/en/examples/i18n"}},s={},c=[],u={toc:c};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"07-composing-modules"},"07-composing-modules"),(0,o.kt)("p",null,"To try this example, you should first ",(0,o.kt)("a",{parentName:"p",href:"/examples/prerequisite"},"prepare the prerequisite"),"."),(0,o.kt)("p",null,"Ditsmod has the ability to add and remove modules after starting the web server, without the need to restart the web server, and HTTP clients will not notice interruptions when adding or removing these modules."),(0,o.kt)("p",null,"You can run the application from the first terminal:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn start7\n")),(0,o.kt)("p",null,"From the second terminal check the work:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -isS localhost:3000\n\n# 404 from second module\ncurl -isS localhost:3000/get-2\n\n# Adding second module\ncurl -isS localhost:3000/add-2\n\n# 200 from second module\ncurl -isS localhost:3000/get-2\n\n# During adding third module, should failed\ncurl -isS localhost:3000/add-3\n\n# But other modules continue works\ncurl -isS localhost:3000\ncurl -isS localhost:3000/get-2\n\n# Removing second module\ncurl -isS localhost:3000/del-2\n\n# 404 from second module\ncurl -isS localhost:3000/get-2\n\n# But OK first module\ncurl -isS localhost:3000\n")))}p.isMDXComponent=!0}}]);