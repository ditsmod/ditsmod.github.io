"use strict";(self.webpackChunkditsmod_github_io=self.webpackChunkditsmod_github_io||[]).push([[225],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=o,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||r;return n?a.createElement(h,i(i({ref:t},d),{},{components:n})):a.createElement(h,i({ref:t},d))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},744:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(3117),o=(n(7294),n(3905));const r={slug:"/",sidebar_position:1},i="Introduction",l={unversionedId:"intro",id:"intro",title:"Introduction",description:"About the project",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/intro.md",sourceDirName:".",slug:"/",permalink:"/en/",draft:!1,editUrl:"https://github.com/ditsmod/ditsmod/edit/main/website/i18n/en/docusaurus-plugin-content-docs/current/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"/",sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Modules",permalink:"/en/components-of-ditsmod-app/module"}},s={},p=[{value:"About the project",id:"about-the-project",level:2},{value:"Install the Ditsmod seed",id:"install-the-ditsmod-seed",level:2},{value:"Run the application",id:"run-the-application",level:2},{value:"Entry file for Node.js",id:"entry-file-for-nodejs",level:2}],d={toc:p};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"introduction"},"Introduction"),(0,o.kt)("h2",{id:"about-the-project"},"About the project"),(0,o.kt)("p",null,"Ditsmod is a Node.js web framework, named ",(0,o.kt)("strong",{parentName:"p"},"DI")," + ",(0,o.kt)("strong",{parentName:"p"},"TS")," + ",(0,o.kt)("strong",{parentName:"p"},"Mod")," to emphasize its important components: it has ",(0,o.kt)("strong",{parentName:"p"},"D"),"ependency ",(0,o.kt)("strong",{parentName:"p"},"I"),"njection, written in ",(0,o.kt)("strong",{parentName:"p"},"T"),"ype",(0,o.kt)("strong",{parentName:"p"},"S"),"cript, and designed for good ",(0,o.kt)("strong",{parentName:"p"},"Mod"),"ularity."),(0,o.kt)("p",null,"The main features of Ditsmod:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Modular architecture on decorators, which allows you to declaratively describe the structure of the application."),(0,o.kt)("li",{parentName:"ul"},"Convenient mechanism for ",(0,o.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Dependency_injection"},"specifying and resolving"),' between different application classes: you in constructor specify instances of which classes you need, and DI undertakes a difficult task "how to get it".'),(0,o.kt)("li",{parentName:"ul"},"Ability to write your own extensions (sometimes called plugins) that can be asynchronously initialized and that can depend on each other."),(0,o.kt)("li",{parentName:"ul"},"Ability to dynamically add and remove modules after starting the web server, without the need to restart."),(0,o.kt)("li",{parentName:"ul"},"Has OpenAPI support, and has the ability to validate queries based on OpenAPI metadata."),(0,o.kt)("li",{parentName:"ul"},"To date, ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/ditsmod/vs-webframework#readme"},"Ditsmod is one of the fastest")," among Node.js web frameworks.")),(0,o.kt)("p",null,"Some concepts of Ditsmod architecture are taken from Angular concepts, and DI is built based on the native Angular DI module."),(0,o.kt)("h2",{id:"install-the-ditsmod-seed"},"Install the Ditsmod seed"),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ditsmod/seed"},"ditsmod-seed")," repository has the minimum basic set for application operation. Clone it and install the dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git clone --depth 1 https://github.com/ditsmod/seed.git my-app\ncd my-app\nyarn\n")),(0,o.kt)("h2",{id:"run-the-application"},"Run the application"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn start\n")),(0,o.kt)("p",null,"This command cannot be used for production mode, but it is suitable for application development, because every time you save your code, the web server will automatically reboot to apply the latest changes."),(0,o.kt)("p",null,"You can check the server with ",(0,o.kt)("inlineCode",{parentName:"p"},"curl"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -isS localhost:3000\n")),(0,o.kt)("p",null,"Or just open the browser on ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:3000/"},"http://localhost:3000/"),"."),(0,o.kt)("p",null,"The application is compiled and the server is started in product mode using the command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn build\nyarn start-prod\n")),(0,o.kt)("p",null,"In addition, you can view more examples in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ditsmod/ditsmod/tree/main/examples"},"examples")," folder, as well as in the repository ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ditsmod/realworld"},"RealWorld"),"."),(0,o.kt)("h2",{id:"entry-file-for-nodejs"},"Entry file for Node.js"),(0,o.kt)("p",null,"After ",(0,o.kt)("a",{parentName:"p",href:"#install-the-ditsmod-seed"},"installing Ditsmod seed"),", the first thing you need to know: all the application code is in the ",(0,o.kt)("inlineCode",{parentName:"p"},"src")," folder, it is compiled using the TypeScript utility ",(0,o.kt)("inlineCode",{parentName:"p"},"tsc"),", after compilation it goes to the ",(0,o.kt)("inlineCode",{parentName:"p"},"dist")," folder, and then as JavaScript code it can be executed in Node.js."),(0,o.kt)("p",null,"Let's look at the ",(0,o.kt)("inlineCode",{parentName:"p"},"src/main.ts")," file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import 'reflect-metadata';\nimport { Application } from '@ditsmod/core';\n\nimport { AppModule } from './app/app.module';\n\nnew Application().bootstrap(AppModule).catch((err) => {\n  console.log(err);\n});\n")),(0,o.kt)("p",null,"Once compiled, it becomes ",(0,o.kt)("inlineCode",{parentName:"p"},"dist/main.js")," and becomes the entry point for running the application in production mode, which is why you will specify it as an argument for Node.js:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"node dist/main.js\n")),(0,o.kt)("p",null,"Note the ",(0,o.kt)("inlineCode",{parentName:"p"},"import 'reflect-metadata'")," in the first line of the file. This module is required for Dependecy Injection to work, but it is sufficient to specify it only once in the entry file for Node.js."),(0,o.kt)("p",null,"This import should also be done for tests, because when testing the input file will be a entry file, not ",(0,o.kt)("inlineCode",{parentName:"p"},"dist/main.js"),". For example, if you use ",(0,o.kt)("a",{parentName:"p",href:"https://jestjs.io/en/"},"jest")," as a test framework and the ",(0,o.kt)("inlineCode",{parentName:"p"},"test-file.js")," file contains a compiled test, to run it like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"jest test-file.js\n")),(0,o.kt)("p",null,"this file must contain a ",(0,o.kt)("inlineCode",{parentName:"p"},"reflect-metadata")," import."),(0,o.kt)("p",null,"Looking further at the file ",(0,o.kt)("inlineCode",{parentName:"p"},"src/main.ts"),", you can see that an instance of the class ",(0,o.kt)("inlineCode",{parentName:"p"},"Application")," is created, and as an argument for the method ",(0,o.kt)("inlineCode",{parentName:"p"},"bootstrap()")," is passed ",(0,o.kt)("inlineCode",{parentName:"p"},"AppModule"),". Here ",(0,o.kt)("inlineCode",{parentName:"p"},"AppModule")," is the root module to which other application modules then imports."))}c.isMDXComponent=!0}}]);