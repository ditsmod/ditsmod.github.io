"use strict";(self.webpackChunkditsmod_github_io=self.webpackChunkditsmod_github_io||[]).push([[652],{3730:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"intro","title":"What is Ditsmod","description":"Introduction to Ditsmod","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/intro.md","sourceDirName":".","slug":"/","permalink":"/en/","draft":false,"unlisted":false,"editUrl":"https://github.com/ditsmod/ditsmod/edit/main/website/i18n/en/docusaurus-plugin-content-docs/current/intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"slug":"/","sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Decorators and Reflector","permalink":"/en/components-of-ditsmod-app/decorators-and-reflector"}}');var i=n(4848),o=n(8453);const r={slug:"/",sidebar_position:1},d="What is Ditsmod",l={},a=[{value:"Introduction to Ditsmod",id:"introduction-to-ditsmod",level:2},{value:"Key Features of Ditsmod",id:"key-features-of-ditsmod",level:3},{value:"ExpressJS vs. Ditsmod",id:"expressjs-vs-ditsmod",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Start in Development Mode",id:"start-in-development-mode",level:2},{value:"Start in product mode",id:"start-in-product-mode",level:2},{value:"Entry file for Node.js",id:"entry-file-for-nodejs",level:2},{value:"Ditsmod on Bun",id:"ditsmod-on-bun",level:2}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"what-is-ditsmod",children:"What is Ditsmod"})}),"\n",(0,i.jsx)(s.h2,{id:"introduction-to-ditsmod",children:"Introduction to Ditsmod"}),"\n",(0,i.jsxs)(s.p,{children:["Ditsmod is a Node.js-based web framework designed for building highly extensible and fast applications. Its name combines ",(0,i.jsx)(s.strong,{children:"DI"})," + ",(0,i.jsx)(s.strong,{children:"TS"})," + ",(0,i.jsx)(s.strong,{children:"Mod"})," to highlight its key features: it includes ",(0,i.jsx)(s.strong,{children:"D"}),"ependency ",(0,i.jsx)(s.strong,{children:"I"}),"njection, is written in ",(0,i.jsx)(s.strong,{children:"T"}),"ype",(0,i.jsx)(s.strong,{children:"S"}),"cript in ESM format, and is designed with strong ",(0,i.jsx)(s.strong,{children:"Mod"}),"ularity in mind."]}),"\n",(0,i.jsx)(s.h3,{id:"key-features-of-ditsmod",children:"Key Features of Ditsmod"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Modular architecture"})," with decorators, enabling declarative application structure definition."]}),"\n",(0,i.jsx)(s.li,{children:"Support for creating custom extensions (sometimes referred to as plugins) that can initialize asynchronously and depend on one another."}),"\n",(0,i.jsxs)(s.li,{children:["Built-in ",(0,i.jsx)(s.strong,{children:"OpenAPI"})," support with request validation based on OpenAPI metadata."]}),"\n",(0,i.jsxs)(s.li,{children:["As of today, ",(0,i.jsx)(s.a,{href:"https://www.techempower.com/benchmarks/#section=test&runid=8495ffea-08e2-4da7-a91d-4d6a48690ef2&l=zieepr-cjj",children:"Ditsmod is one of the fastest Node.js web frameworks"}),":"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Techempower benchmarks",src:n(5278).A+"",width:"1163",height:"535"})}),"\n",(0,i.jsxs)(s.p,{children:["Some architectural concepts in Ditsmod are inspired by ",(0,i.jsx)(s.a,{href:"https://github.com/angular/angular",children:"Angular"}),", with its DI system built on Angular's native DI module."]}),"\n",(0,i.jsx)(s.h3,{id:"expressjs-vs-ditsmod",children:"ExpressJS vs. Ditsmod"}),"\n",(0,i.jsx)(s.p,{children:"For comparison, the following examples demonstrate the minimal code needed to start applications with ExpressJS and Ditsmod."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import express from 'express';\nconst app = express();\n\napp.get('/hello', function (req, res) {\n  res.send('Hello, World!');\n});\n\napp.listen(3000, '0.0.0.0');\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"import { controller, route, restRootModule, RestApplication } from '@ditsmod/rest';\n\n@controller()\nclass ExampleController {\n  @route('GET', 'hello')\n  tellHello() {\n    return 'Hello, World!';\n  }\n}\n\n@restRootModule({ controllers: [ExampleController] })\nclass AppModule {}\n\nconst app = await RestApplication.create(AppModule);\napp.server.listen(3000, '0.0.0.0');\n"})}),"\n",(0,i.jsxs)(s.p,{children:["But why isn\u2019t Ditsmod as minimalistic as ExpressJS? As you can see in the example, ExpressJS explicitly creates an application object, to which routes are then added. The ",(0,i.jsx)(s.code,{children:"app"})," object represents the API of various separate components, including router configuration, error handling setup, rendering system configuration, HTTP server setup, etc. Such code looks very compact in simple examples, but in essence, it violates the ",(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Single-responsibility_principle",children:"Single Responsibility Principle"}),". In contrast, Ditsmod clearly distinguishes between:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"the role of the class (controller) where the route is created;"}),"\n",(0,i.jsx)(s.li,{children:"the role of the module where the controllers are declared;"}),"\n",(0,i.jsx)(s.li,{children:"the role of the application that contains the HTTP server."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Looking at the amount of code, you might think that Ditsmod is slower than ExpressJS because of its verbosity. But in fact, only Ditsmod's cold start is slightly slower (it starts in 34 ms on my laptop, while ExpressJS starts in 4 ms). In terms of request processing speed, ",(0,i.jsx)(s.a,{href:"https://www.techempower.com/benchmarks/#section=test&runid=8495ffea-08e2-4da7-a91d-4d6a48690ef2&l=zieepr-cjj",children:"Ditsmod is more than twice as fast as ExpressJS"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["More application examples are available in the ",(0,i.jsx)(s.a,{href:"https://github.com/ditsmod/ditsmod/tree/main/examples",children:"Ditsmod"})," repository, as well as in the ",(0,i.jsx)(s.a,{href:"https://github.com/ditsmod/realworld",children:"RealWorld"})," repository."]}),"\n",(0,i.jsx)(s.p,{children:"P.S. Although a link to the repository with all the necessary settings for Ditsmod applications is provided below, if you choose to use just this code, don't forget to include the following in your tsconfig files:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:"{4-5}",children:'{\n  "compilerOptions": {\n    // ...\n    "experimentalDecorators": true,\n    "emitDecoratorMetadata": true\n  }\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(s.p,{children:"Please make sure that Node.js >= v20.6.0 is installed on your operating system."}),"\n",(0,i.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(s.p,{children:["The basic set for running the application has a repository ",(0,i.jsx)(s.a,{href:"https://github.com/ditsmod/rest-starter",children:"ditsmod/rest-starter"}),". Clone it and install the dependencies:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"git clone --depth 1 https://github.com/ditsmod/rest-starter.git my-app\ncd my-app\nnpm i\n"})}),"\n",(0,i.jsx)(s.p,{children:"Alternatively, you can use the starter monorepo:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"git clone --depth 1 https://github.com/ditsmod/rest-monorepo-starter.git my-app\ncd my-app\nnpm i\n"})}),"\n",(0,i.jsx)(s.h2,{id:"start-in-development-mode",children:"Start in Development Mode"}),"\n",(0,i.jsx)(s.p,{children:"You can start the application in development mode with the following command:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"npm run start:dev\n"})}),"\n",(0,i.jsxs)(s.p,{children:["You can check the server operation using ",(0,i.jsx)(s.code,{children:"curl"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"curl -i localhost:3000/api/hello\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Or simply by going to ",(0,i.jsx)(s.a,{href:"http://localhost:3000/api/hello",children:"http://localhost:3000/api/hello"})," in your browser."]}),"\n",(0,i.jsxs)(s.p,{children:["By default, the application works with ",(0,i.jsx)(s.code,{children:"info"})," log level. You can change it in the file ",(0,i.jsx)(s.code,{children:"src/app/app.module.ts"})," (or ",(0,i.jsx)(s.code,{children:"apps/backend/src/app/app.module.ts"})," in the monorepository)."]}),"\n",(0,i.jsxs)(s.p,{children:["Thanks to ",(0,i.jsx)(s.a,{href:"https://github.com/ditsmod/rest-starter",children:"ditsmod/rest-starter"}),"'s use of the so-called ",(0,i.jsx)(s.a,{href:"https://www.typescriptlang.org/docs/handbook/project-references.html",children:"Project References"})," and ",(0,i.jsx)(s.code,{children:"tsc -b"})," build mode, even very large projects compile very quickly."]}),"\n",(0,i.jsxs)(s.p,{children:["Note that there are four config files for TypeScript in the ",(0,i.jsx)(s.code,{children:"ditsmod/rest-starter"})," repository:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"tsconfig.json"})," - the basic configuration used by your IDE (in most cases it is probably VS Code)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"tsconfig.build.json"})," - this configuration is used to compile the code from the ",(0,i.jsx)(s.code,{children:"src"})," directory to the ",(0,i.jsx)(s.code,{children:"dist"})," directory, it is intended for application code."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"tsconfig.e2e.json"})," - this configuration is used to compile end-to-end tests."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"tsconfig.unit.json"})," - this configuration is used to compile unit tests."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Also, note that since ",(0,i.jsx)(s.code,{children:"ditsmod/rest-starter"})," is declared as an EcmaScript Module (ESM), you can use ",(0,i.jsx)(s.a,{href:"https://nodejs.org/api/packages.html#imports",children:"native Node.js aliases"})," to shorten file paths. This is analogous to ",(0,i.jsx)(s.code,{children:"compilerOptions.paths"})," in ",(0,i.jsx)(s.code,{children:"tsconfig"}),". Such aliases are declared in ",(0,i.jsx)(s.code,{children:"package.json"})," in the ",(0,i.jsx)(s.code,{children:"imports"})," field:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:"{2}",children:'"imports": {\n  "#app/*": "./dist/app/*"\n},\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Now you can use it, for example in the ",(0,i.jsx)(s.code,{children:"e2e"})," folder, like this:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"import { AppModule } from '#app/app.module.js';\n"})}),"\n",(0,i.jsxs)(s.p,{children:["At the moment (2025-10-07) TypeScript does not yet fully support these aliases, so it is advisable to duplicate them in the ",(0,i.jsx)(s.code,{children:"tsconfig.json"})," file:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",metastring:"{6}",children:'// ...\n{\n  "compilerOptions": {\n    // ...\n    "paths": {\n      "#app/*": ["./src/app/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Note that in ",(0,i.jsx)(s.code,{children:"package.json"})," the aliases point to ",(0,i.jsx)(s.code,{children:"dist"}),", while in ",(0,i.jsx)(s.code,{children:"tsconfig.json"})," they point to ",(0,i.jsx)(s.code,{children:"src"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"start-in-product-mode",children:"Start in product mode"}),"\n",(0,i.jsx)(s.p,{children:"The application is compiled and the server is started in product mode using the command:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"npm run build\nnpm run start-prod\n"})}),"\n",(0,i.jsx)(s.h2,{id:"entry-file-for-nodejs",children:"Entry file for Node.js"}),"\n",(0,i.jsxs)(s.p,{children:["After ",(0,i.jsx)(s.a,{href:"#installation",children:"installing Ditsmod starter"}),", the first thing you need to know: all the application code is in the ",(0,i.jsx)(s.code,{children:"src"})," folder, it is compiled using the TypeScript utility ",(0,i.jsx)(s.code,{children:"tsc"}),", after compilation it goes to the ",(0,i.jsx)(s.code,{children:"dist"})," folder, and then as JavaScript code it can be executed in Node.js."]}),"\n",(0,i.jsxs)(s.p,{children:["Let's look at the ",(0,i.jsx)(s.code,{children:"src/main.ts"})," file:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"import { ServerOptions } from 'node:http';\nimport { RestApplication } from '@ditsmod/rest';\n\nimport { AppModule } from './app/app.module.js';\nimport { checkCliAndSetPort } from './app/utils/check-cli-and-set-port.js';\n\nconst serverOptions: ServerOptions = { keepAlive: true, keepAliveTimeout: 5000 };\nconst app = await RestApplication.create(AppModule, { serverOptions, path: 'api' });\nconst port = checkCliAndSetPort(3000);\napp.server.listen(port, '0.0.0.0');\n"})}),"\n",(0,i.jsxs)(s.p,{children:["After compilation, it becomes ",(0,i.jsx)(s.code,{children:"dist/main.js"})," and becomes the entry point for running the application in production mode, and so why you will specify it as an argument to Node.js:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"node dist/main.js\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Looking at the file ",(0,i.jsx)(s.code,{children:"src/main.ts"}),", you can see that an instance of the class ",(0,i.jsx)(s.code,{children:"RestApplication"})," is created, and as an argument for the method ",(0,i.jsx)(s.code,{children:"create()"})," is passed ",(0,i.jsx)(s.code,{children:"AppModule"}),". Here ",(0,i.jsx)(s.code,{children:"AppModule"})," is the root module to which other application modules then imports."]}),"\n",(0,i.jsx)(s.h2,{id:"ditsmod-on-bun",children:"Ditsmod on Bun"}),"\n",(0,i.jsxs)(s.p,{children:["Ditsmod can run on ",(0,i.jsx)(s.a,{href:"https://bun.sh/",children:"Bun"}),". However, as of version (v1.1.29), ",(0,i.jsx)(s.a,{href:"https://github.com/oven-sh/bun/issues/10438",children:"Bun has a bug"})," that causes it to work incorrectly with TypeScript. If you download Ditsmod's starter, install the dependencies, and try to run the application:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",children:"git clone --depth 1 https://github.com/ditsmod/rest-starter.git my-app\ncd my-app\nbun install\nbun run build\nbun dist/main.js\n"})}),"\n",(0,i.jsx)(s.p,{children:"Bun will throw the following error:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-text",children:"1 | (function (entry, fetcher)\n    ^\nSyntaxError: export 'ValueProvider' not found in './types-and-models.js'\n"})}),"\n",(0,i.jsxs)(s.p,{children:["At the moment, this bug can be worked around by removing the ",(0,i.jsx)(s.code,{children:"tsconfig.json"})," files from all Ditsmod packages:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",children:"rm node_modules/@ditsmod/*/tsconfig.json\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Additionally, if your application has ",(0,i.jsx)(s.code,{children:"compilerOptions.paths"})," configured in ",(0,i.jsx)(s.code,{children:"tsconfig.json"}),", Bun will also malfunction. Simply comment out or remove this section from ",(0,i.jsx)(s.code,{children:"tsconfig.json"}),". Afterward, you need to run the compiled version of the entry file:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",children:"bun dist/main.js\n"})})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},5278:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/tech-empower-benchmarks-ff767d4948dfa330d61e65d8da8a9d3d.png"},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>d});var t=n(6540);const i={},o=t.createContext(i);function r(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);